{% extends 'base.html' %}
{% load static %}

{% block title %}Ricas IT Services - Portfolio{% endblock %}

{% block content %}
<!-- Portfolio Hero Section -->
<section class="hero" style="background: linear-gradient(135deg, rgba(14, 168, 206, 0.4) 0%, rgba(0, 119, 182, 0.4) 100%), url('{% if banners.portfolio_hero and banners.portfolio_hero.image %}{{ banners.portfolio_hero.image.url }}{% else %}https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1115&q=80{% endif %}') center center/cover;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h1 style="color: #f19c07;">Our Portfolio</h1>
                <p class="lead">Explore our past projects and success stories</p>
            </div>
        </div>
    </div>
</section>

<!-- Portfolio Filter -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <div class="btn-group" role="group" aria-label="Portfolio filters">
                <button type="button" class="btn btn-outline-primary active filter-btn" data-filter="all">All Projects</button>
                <button type="button" class="btn btn-outline-primary filter-btn" data-filter="web">Web Development</button>
                <button type="button" class="btn btn-outline-primary filter-btn" data-filter="mobile">Mobile Apps</button>
                <button type="button" class="btn btn-outline-primary filter-btn" data-filter="desktop">Desktop Apps</button>
                <button type="button" class="btn btn-outline-primary filter-btn" data-filter="education">Educational</button>
                <button type="button" class="btn btn-outline-primary filter-btn" data-filter="game">Games</button>
            </div>
        </div>

        <div class="row" id="portfolio-grid">
            {% for project in projects %}
            <div class="col-lg-4 col-md-6 mb-3 portfolio-item" data-category="{{ project.category }}">
                <div class="card h-100 border-0 shadow-sm" style="border-top: 3px solid var(--primary-color);">
                    <img src="{{ project.image.url }}" class="card-img-top" alt="{{ project.title }}" onerror="this.src='https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80'">
                    <div class="card-body">
                        <h5 class="card-title" style="color: var(--primary-color); font-size: 1.1rem; margin-bottom: 0.5rem;">{{ project.title }}</h5>
                        <p class="card-text text-muted mb-2" style="font-size: 0.9rem;">{{ project.get_category_display }} | {{ project.client }}</p>
                        <p class="card-text" style="font-size: 0.95rem; line-height: 1.5;">{{ project.description|truncatewords:15 }}</p>
                        <a href="{% url 'project_detail' project.slug %}" class="btn btn-primary btn-sm w-100">View Project</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p>No portfolio projects available at the moment. Please check back soon!</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Client Testimonials -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2>Client Testimonials</h2>
            <p class="lead">What our clients say about working with us</p>
        </div>

        <div class="row">
            <div class="col-md-4 mb-3">
                <div class="testimonial h-100">
                    <div class="d-flex align-items-center mb-2">
                        <div class="testimonial-img d-flex align-items-center justify-content-center text-white" style="background-color: var(--primary-color); width: 60px; height: 60px;">
                            <span class="fs-3">J</span>
                        </div>
                        <div>
                            <h5 class="mb-0" style="color: var(--primary-color); font-size: 1.1rem;">John Smith</h5>
                            <p class="text-muted mb-0" style="font-size: 0.9rem;">CEO, Tech Solutions Inc.</p>
                        </div>
                    </div>
                    <p class="mb-0" style="font-size: 0.95rem; line-height: 1.6;">"Ricas IT Services delivered our web application on time and within budget. Their team was professional, responsive, and truly understood our business needs. We're already planning our next project with them."</p>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="testimonial h-100">
                    <div class="d-flex align-items-center mb-2">
                        <div class="testimonial-img d-flex align-items-center justify-content-center text-white" style="background-color: var(--primary-color); width: 60px; height: 60px;">
                            <span class="fs-3">S</span>
                        </div>
                        <div>
                            <h5 class="mb-0" style="color: var(--primary-color); font-size: 1.1rem;">Sarah Johnson</h5>
                            <p class="text-muted mb-0" style="font-size: 0.9rem;">Principal, Johnson Academy</p>
                        </div>
                    </div>
                    <p class="mb-0" style="font-size: 0.95rem; line-height: 1.6;">"The school management system developed by Ricas IT Services has transformed how we operate. Our administrative tasks are now streamlined, and our teachers can focus more on teaching. Highly recommended!"</p>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="testimonial h-100">
                    <div class="d-flex align-items-center mb-2">
                        <div class="testimonial-img d-flex align-items-center justify-content-center text-white" style="background-color: var(--primary-color); width: 60px; height: 60px;">
                            <span class="fs-3">M</span>
                        </div>
                        <div>
                            <h5 class="mb-0" style="color: var(--primary-color); font-size: 1.1rem;">Michael Brown</h5>
                            <p class="text-muted mb-0" style="font-size: 0.9rem;">Owner, Brown's Boutique</p>
                        </div>
                    </div>
                    <p class="mb-0" style="font-size: 0.95rem; line-height: 1.6;">"Our e-commerce website has seen a 40% increase in sales since Ricas IT Services redesigned it. The mobile-friendly design and improved checkout process have made a significant difference to our business."</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5 position-relative bg-white">
    <div class="container py-4" data-aos="fade-up" style="position: relative; z-index: 1;">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="cta-card">
                    <div class="row align-items-center">
                        <div class="col-lg-7 py-4 px-lg-5 text-center text-lg-start">
                            <h2 class="mb-4" style="color: #f19c07;">Ready to Start Your Project?</h2>
                            <p class="lead mb-4 text-dark">Contact us today to discuss how we can help bring your ideas to life.</p>
                            <div class="d-flex flex-column flex-md-row justify-content-center justify-content-lg-start gap-3">
                                <a href="{% url 'contact' %}" class="btn btn-primary btn-lg">
                                    <i class="fas fa-paper-plane me-2"></i> Contact Us
                                </a>
                                <a href="tel:{% if site_settings %}{{ site_settings.phone }}{% else %}0505584553{% endif %}" class="btn btn-outline-primary btn-lg">
                                    <i class="fas fa-phone me-2"></i> Call Us
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-5 d-none d-lg-block">
                            <div class="cta-image-container">
                                {% if banners.portfolio_cta and banners.portfolio_cta.image %}
                                    <img src="{{ banners.portfolio_cta.image.url }}" alt="Portfolio Success" class="img-fluid rounded-end">
                                {% else %}
                                    <img src="https://images.unsplash.com/photo-1600880292203-757bb62b4baf?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Portfolio Success" class="img-fluid rounded-end">
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Decorative elements -->
    <div class="position-absolute top-0 start-0 w-100 h-100 overflow-hidden" style="z-index: 0; pointer-events: none;">
        <div class="position-absolute" style="top: 10%; left: 5%; width: 100px; height: 100px; background-color: rgba(14, 168, 206, 0.05); border-radius: 50%;"></div>
        <div class="position-absolute" style="top: 50%; right: 10%; width: 150px; height: 150px; background-color: rgba(14, 168, 206, 0.05); border-radius: 50%;"></div>
        <div class="position-absolute" style="bottom: 10%; left: 15%; width: 80px; height: 80px; background-color: rgba(14, 168, 206, 0.05); border-radius: 50%;"></div>
    </div>
</section>

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Portfolio filtering
        const filterButtons = document.querySelectorAll('.filter-btn');
        const portfolioItems = document.querySelectorAll('.portfolio-item');

        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active'));

                // Add active class to clicked button
                this.classList.add('active');

                // Get filter value
                const filterValue = this.getAttribute('data-filter');

                // Filter portfolio items
                portfolioItems.forEach(item => {
                    if (filterValue === 'all' || item.getAttribute('data-category') === filterValue) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });
    });
</script>
{% endblock %}
{% endblock %}
